<%page expression_filter="h"/>
<%namespace name='static' file='static_content.html'/>
<%! 
from django.utils.translation import ugettext as _ 
from django.urls import reverse
from six import text_type
%>

<section class="courses-container">
  <section class="highlighted-courses">
      <section class="courses">

        <h5 class="uamx_index-smalltitles">Cursos destacados</h5>
        <div id="carouselExampleIndicators" class="carousel slide uamx_index-carousel" data-ride="carousel">
          <ol class="carousel-indicators">
        
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            %for i in range(3, len(courses[:homepage_course_max]), 3):
            <li data-target="#carouselExampleIndicators" data-slide-to="${i/3}"></li>
            %endfor
          </ol>
          <div class="carousel-inner">
            %for i in range(len(courses)):
                  
              <% course = courses[i] %>

              %if i%3 == 0:
              <div class="carousel-item ${'active' if i == 0 else ''}">
                <div class="uamx_carousel-inneritem">
              %endif
        
                <article class="uamx_carousel-inneritem-article" style="background-image:url(${course.course_image_url})">
                  
                  %if hasattr(course, 'name'):
                    <a href="${course.course_url}" class="${course.organization}">
                      <h4>${course.name}</h4>
                      <img src="${course.image_url}"/>
                    </a>
                  %else:
                    <a href="${reverse('about_course', args=[text_type(course.id)])}" class="${course.display_org_with_default}">
                      <h4>${course.display_name_with_default}</h4>
                    </a>
                  %endif
                  
                </article>
        
              %if (i-2)%3 == 0 or i == (len(courses)-1):
                </div>  
              </div>
              %endif
            %endfor
          </div>
          <a class="carousel-control-prev uamx_carousel-control" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next uamx_carousel-control" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>

      </section>

      <section>
        <h5 class="uamx_index-smalltitles">Formación académica</h5>
        <div class="row uamx_index-categories-container">
          <article class="col-sm card uamx_index-category">
            <a href="/courses?organizacion=mooc" class="card-body">
              <h5 class="card-title">MOOC</h5>
            </a>
          </article>
          <article class="col-sm card uamx_index-category">
            <a href="/courses?organizacion=uamx" class="card-body">
              <h5 class="card-title">INNOVACIÓN DOCENTE</h5>
            </a>
          </article>
          <article class="col-sm card uamx_index-category">
            <a href="/courses?organizacion=fcon" class="card-body">
              <h5 class="card-title">FORMACIÓN CONTINUA</h5>
            </a>
          </article>
        </div>
      </section>

      <div class="courses-more">
        <a class="courses-more-cta" href="${marketing_link('COURSES')}"> ${_("View all Courses")} </a>
      </div>

  </section>
</section>

